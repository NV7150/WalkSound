<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WalkSound</title>
    <script src="WalkSpeedDetector.js"></script>
</head>
<body>
Hello, world!
<div id="testspeed"></div>
</body>
</html>

<script>
    // For speed test

    async function speedGetter(){
        await new Promise(resolve => setTimeout(resolve, 500));
        return {spd: getSpeed().next().value, bpm: getCurrentBpm()};
    }
    function showSpeed(){

        speedGetter().then((props) => {
            document.getElementById("testspeed").innerHTML += "spd:" + props.spd + " bpm:" + props.bpm + "<br>"
            showSpeed();
        })
            .catch(() => {showSpeed();})
    }
    showSpeed();
</script>
